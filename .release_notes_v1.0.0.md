Release Highlights
- Generalized agent: Responds only to @ai commands from allowed users.
- Group chat support: Replies in-thread using Messages chat GUID.
- Real-time dashboard: Shows [Group]/[Direct] badges and chat GUID.
- Settings UI: Manage trigger tag and allowlist from the browser.
- Clean config: settings.json now only stores ai_trigger_tag and allowed_users.
- Simplified deps: Removed unused packages; env-only OpenAI key.

Breaking Changes
- Legacy auto-reply removed: No persona/predefined/memory based responding.
- Endpoints removed: POST /toggle_auto_reply, POST /reset_conversations.
- Module rename: services/bot.py → services/agent.py (imports updated).
- Config change: Old settings.json fields no longer honored.

Upgrade Notes
- Pull latest from main.
- Ensure settings.json contains only:
  - ai_trigger_tag (default @ai)
  - allowed_users (phone numbers; you can edit in Settings UI)
- Reinstall deps: pip install -r requirements.txt
- Set OpenAI key: export OPENAI_KEY=sk-... (or OPENAI_API_KEY)

Usage
- Start (full agent): python app.py then open http://127.0.0.1:5000/
- UI-only mode (no polling): BOT_DISABLE_MONITOR=1 python app.py
- From an allowed number: send “@ai <command>” in direct or group chats.

API
- GET /allowlist: Returns ai_trigger_tag, allowed_users, contacts
- POST /allowlist: Update tag and allowlist (JSON)

Security & Privacy
- Only messages with your trigger tag from allowed numbers are sent to OpenAI.
- Requires macOS Full Disk Access (read chat.db) and Automation permission (Messages AppleScript).

Known Limitations
- macOS only; attachments not processed.
- Relies on Messages DB schema; future macOS updates may require SQL tweaks.
